webpackHotUpdate(0,{

/***/ 6:
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar StripePayment = function () {\n\tfunction StripePayment() {\n\t\t_classCallCheck(this, StripePayment);\n\n\t\tthis.token = {};\n\t\tthis.stripeCreateToken();\n\t}\n\n\t_createClass(StripePayment, [{\n\t\tkey: 'stripeCreateToken',\n\t\tvalue: function stripeCreateToken() {\n\t\t\tvar $form = $('#payment-form');\n\t\t\tvar thisStripePayment = this;\n\t\t\t$form.submit(function (event) {\n\t\t\t\t// event.preventDefault();\n\t\t\t\t// Disable the submit button to prevent repeated clicks:\n\t\t\t\t$form.find('.submit').prop('disabled', true);\n\n\t\t\t\t// Request a token from Stripe:\n\t\t\t\t// let token =  Stripe.card.createToken($form, this.stripeResponseHandler);\n\t\t\t\t// console.log(token);\n\t\t\t\tvar error = false;\n\t\t\t\tvar ccNum = $('.card-number').val();\n\t\t\t\tvar cvcNum = $('.card-cvc').val();\n\t\t\t\tvar expMonth = $('.card-expiry-month').val();\n\t\t\t\tvar expYear = $('.card-expiry-year').val();\n\n\t\t\t\tif (!Stripe.card.validateCardNumber(ccNum)) {\n\t\t\t\t\terror = true;\n\t\t\t\t\tthisStripePayment.reportError('The credit card number is invalid');\n\t\t\t\t}\n\n\t\t\t\tif (!Stripe.card.validateCVC(cvcNum)) {\n\t\t\t\t\terror = true;\n\t\t\t\t\tthisStripePayment.reportError('The CVC number is invalid');\n\t\t\t\t}\n\t\t\t\tif (!Stripe.card.validateExpiry(expMonth, expYear)) {\n\t\t\t\t\terror = true;\n\t\t\t\t\tthisStripePayment.reportError('The expiration date is invalid');\n\t\t\t\t}\n\n\t\t\t\tif (!error) {\n\t\t\t\t\tvar token = Stripe.card.createToken({\n\t\t\t\t\t\tnumber: ccNum,\n\t\t\t\t\t\tcvc: cvcNum,\n\t\t\t\t\t\texp_month: expMonth,\n\t\t\t\t\t\texp_year: expYear\n\t\t\t\t\t}, this.stripeResponseHandler);\n\t\t\t\t\tconsole.log(token);\n\t\t\t\t\tthisStripePayment.token = token;\n\t\t\t\t\tconsole.log(thisStripePayment.token);\n\t\t\t\t\tconsole.log('token created');\n\t\t\t\t}\n\n\t\t\t\t// Prevent the form from being submitted:\n\n\t\t\t\t// console.log(token);\n\t\t\t\treturn false;\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'stripeResponseHandler',\n\t\tvalue: function stripeResponseHandler(status, response) {\n\t\t\t// Grab the form:\n\t\t\tvar $form = $('#payment-form');\n\n\t\t\tif (response.error) {\n\t\t\t\t// Problem!\n\t\t\t\tthis.reportError(response.error.message);\n\t\t\t\t// Show the errors on the form:\n\t\t\t\t$form.find('.payment-errors').text(response.error.message);\n\t\t\t\t$form.find('.submit').prop('disabled', false); // Re-enable submission\n\t\t\t} else {\n\t\t\t\t// Token was created!\n\n\t\t\t\t// Get the token ID:\n\t\t\t\tconsole.log('new token');\n\t\t\t\tvar token = response.id;\n\t\t\t\tconsole.log(this.token);\n\n\t\t\t\t// Insert the token ID into the form so it gets submitted to the server:\n\t\t\t\t$form.append($('<input type=\"hidden\" name=\"stripeToken\">').val(token));\n\t\t\t\t$form.append($('<input type=\"hidden\" name=\"chargeAmount\">').val($('.total').val()));\n\n\t\t\t\t// Submit the form:\n\t\t\t\t$form.get(0).submit();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'reportError',\n\t\tvalue: function reportError(msg) {\n\t\t\t$('.payment-errors').text(msg).addClass('error');\n\t\t\t$('.submit').prop('disabled', false);\n\n\t\t\treturn false;\n\t\t}\n\t}]);\n\n\treturn StripePayment;\n}();\n\nexports.default = StripePayment;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3RyaXBlUGF5bWVudC5qcz9kM2MzIl0sIm5hbWVzIjpbIlN0cmlwZVBheW1lbnQiLCJ0b2tlbiIsInN0cmlwZUNyZWF0ZVRva2VuIiwiJGZvcm0iLCIkIiwidGhpc1N0cmlwZVBheW1lbnQiLCJzdWJtaXQiLCJldmVudCIsImZpbmQiLCJwcm9wIiwiZXJyb3IiLCJjY051bSIsInZhbCIsImN2Y051bSIsImV4cE1vbnRoIiwiZXhwWWVhciIsIlN0cmlwZSIsImNhcmQiLCJ2YWxpZGF0ZUNhcmROdW1iZXIiLCJyZXBvcnRFcnJvciIsInZhbGlkYXRlQ1ZDIiwidmFsaWRhdGVFeHBpcnkiLCJjcmVhdGVUb2tlbiIsIm51bWJlciIsImN2YyIsImV4cF9tb250aCIsImV4cF95ZWFyIiwic3RyaXBlUmVzcG9uc2VIYW5kbGVyIiwiY29uc29sZSIsImxvZyIsInN0YXR1cyIsInJlc3BvbnNlIiwibWVzc2FnZSIsInRleHQiLCJpZCIsImFwcGVuZCIsImdldCIsIm1zZyIsImFkZENsYXNzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0lBQXFCQSxhO0FBQ3BCLDBCQUFjO0FBQUE7O0FBQ2IsT0FBS0MsS0FBTCxHQUFhLEVBQWI7QUFDQSxPQUFLQyxpQkFBTDtBQUVBOzs7O3NDQUVtQjtBQUNsQixPQUFJQyxRQUFRQyxFQUFFLGVBQUYsQ0FBWjtBQUNBLE9BQUlDLG9CQUFvQixJQUF4QjtBQUNBRixTQUFNRyxNQUFOLENBQWEsVUFBU0MsS0FBVCxFQUFnQjtBQUM1QjtBQUNDO0FBQ0FKLFVBQU1LLElBQU4sQ0FBVyxTQUFYLEVBQXNCQyxJQUF0QixDQUEyQixVQUEzQixFQUF1QyxJQUF2Qzs7QUFFQTtBQUNEO0FBQ0E7QUFDQSxRQUFJQyxRQUFRLEtBQVo7QUFDQSxRQUFJQyxRQUFRUCxFQUFFLGNBQUYsRUFBa0JRLEdBQWxCLEVBQVo7QUFDQSxRQUFJQyxTQUFTVCxFQUFFLFdBQUYsRUFBZVEsR0FBZixFQUFiO0FBQ0EsUUFBSUUsV0FBV1YsRUFBRSxvQkFBRixFQUF3QlEsR0FBeEIsRUFBZjtBQUNBLFFBQUlHLFVBQVVYLEVBQUUsbUJBQUYsRUFBdUJRLEdBQXZCLEVBQWQ7O0FBRUEsUUFBSSxDQUFDSSxPQUFPQyxJQUFQLENBQVlDLGtCQUFaLENBQStCUCxLQUEvQixDQUFMLEVBQTRDO0FBQzNDRCxhQUFRLElBQVI7QUFDQUwsdUJBQWtCYyxXQUFsQixDQUE4QixtQ0FBOUI7QUFDQTs7QUFFRCxRQUFJLENBQUNILE9BQU9DLElBQVAsQ0FBWUcsV0FBWixDQUF3QlAsTUFBeEIsQ0FBTCxFQUFzQztBQUNyQ0gsYUFBUSxJQUFSO0FBQ0FMLHVCQUFrQmMsV0FBbEIsQ0FBOEIsMkJBQTlCO0FBQ0E7QUFDRCxRQUFJLENBQUNILE9BQU9DLElBQVAsQ0FBWUksY0FBWixDQUEyQlAsUUFBM0IsRUFBcUNDLE9BQXJDLENBQUwsRUFBb0Q7QUFDbkRMLGFBQVEsSUFBUjtBQUNBTCx1QkFBa0JjLFdBQWxCLENBQThCLGdDQUE5QjtBQUNBOztBQUVELFFBQUksQ0FBQ1QsS0FBTCxFQUFZO0FBQ1gsU0FBSVQsUUFBUWUsT0FBT0MsSUFBUCxDQUFZSyxXQUFaLENBQXdCO0FBQ25DQyxjQUFRWixLQUQyQjtBQUVuQ2EsV0FBS1gsTUFGOEI7QUFHbkNZLGlCQUFXWCxRQUh3QjtBQUluQ1ksZ0JBQVVYO0FBSnlCLE1BQXhCLEVBS1QsS0FBS1kscUJBTEksQ0FBWjtBQU1BQyxhQUFRQyxHQUFSLENBQVk1QixLQUFaO0FBQ0FJLHVCQUFrQkosS0FBbEIsR0FBMEJBLEtBQTFCO0FBQ0EyQixhQUFRQyxHQUFSLENBQVl4QixrQkFBa0JKLEtBQTlCO0FBQ0EyQixhQUFRQyxHQUFSLENBQVksZUFBWjtBQUNBOztBQUdBOztBQUVBO0FBQ0EsV0FBTyxLQUFQO0FBQ0QsSUE5Q0Q7QUFtREQ7Ozt3Q0FFcUJDLE0sRUFBUUMsUSxFQUFVO0FBQ3RDO0FBQ0EsT0FBSTVCLFFBQVFDLEVBQUUsZUFBRixDQUFaOztBQUVBLE9BQUkyQixTQUFTckIsS0FBYixFQUFvQjtBQUFFO0FBQ3JCLFNBQUtTLFdBQUwsQ0FBaUJZLFNBQVNyQixLQUFULENBQWVzQixPQUFoQztBQUNDO0FBQ0E3QixVQUFNSyxJQUFOLENBQVcsaUJBQVgsRUFBOEJ5QixJQUE5QixDQUFtQ0YsU0FBU3JCLEtBQVQsQ0FBZXNCLE9BQWxEO0FBQ0E3QixVQUFNSyxJQUFOLENBQVcsU0FBWCxFQUFzQkMsSUFBdEIsQ0FBMkIsVUFBM0IsRUFBdUMsS0FBdkMsRUFKa0IsQ0FJNkI7QUFFaEQsSUFORCxNQU1PO0FBQUU7O0FBRVA7QUFDQW1CLFlBQVFDLEdBQVIsQ0FBWSxXQUFaO0FBQ0EsUUFBSTVCLFFBQVE4QixTQUFTRyxFQUFyQjtBQUNBTixZQUFRQyxHQUFSLENBQVksS0FBSzVCLEtBQWpCOztBQUVBO0FBQ0FFLFVBQU1nQyxNQUFOLENBQWEvQixFQUFFLDBDQUFGLEVBQThDUSxHQUE5QyxDQUFrRFgsS0FBbEQsQ0FBYjtBQUNBRSxVQUFNZ0MsTUFBTixDQUFhL0IsRUFBRSwyQ0FBRixFQUErQ1EsR0FBL0MsQ0FBbURSLEVBQUUsUUFBRixFQUFZUSxHQUFaLEVBQW5ELENBQWI7O0FBRUE7QUFDQVQsVUFBTWlDLEdBQU4sQ0FBVSxDQUFWLEVBQWE5QixNQUFiO0FBRUQ7QUFHRjs7OzhCQUVXK0IsRyxFQUFLO0FBQ2hCakMsS0FBRSxpQkFBRixFQUFxQjZCLElBQXJCLENBQTBCSSxHQUExQixFQUErQkMsUUFBL0IsQ0FBd0MsT0FBeEM7QUFDQWxDLEtBQUUsU0FBRixFQUFhSyxJQUFiLENBQWtCLFVBQWxCLEVBQThCLEtBQTlCOztBQUVBLFVBQU8sS0FBUDtBQUNBOzs7Ozs7a0JBakdtQlQsYSIsImZpbGUiOiI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RyaXBlUGF5bWVudCB7XG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXMudG9rZW4gPSB7fTtcblx0XHR0aGlzLnN0cmlwZUNyZWF0ZVRva2VuKCk7XG5cblx0fVxuXG5cdHN0cmlwZUNyZWF0ZVRva2VuKCkge1xuXHQgIGxldCAkZm9ybSA9ICQoJyNwYXltZW50LWZvcm0nKTtcblx0ICBsZXQgdGhpc1N0cmlwZVBheW1lbnQgPSB0aGlzO1xuXHQgICRmb3JtLnN1Ym1pdChmdW5jdGlvbihldmVudCkge1xuXHQgIFx0Ly8gZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgIC8vIERpc2FibGUgdGhlIHN1Ym1pdCBidXR0b24gdG8gcHJldmVudCByZXBlYXRlZCBjbGlja3M6XG5cdCAgICAkZm9ybS5maW5kKCcuc3VibWl0JykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcblxuXHQgICAgLy8gUmVxdWVzdCBhIHRva2VuIGZyb20gU3RyaXBlOlxuXHQgICAvLyBsZXQgdG9rZW4gPSAgU3RyaXBlLmNhcmQuY3JlYXRlVG9rZW4oJGZvcm0sIHRoaXMuc3RyaXBlUmVzcG9uc2VIYW5kbGVyKTtcblx0ICAgLy8gY29uc29sZS5sb2codG9rZW4pO1xuXHQgIFx0bGV0IGVycm9yID0gZmFsc2U7XG5cdCAgXHRsZXQgY2NOdW0gPSAkKCcuY2FyZC1udW1iZXInKS52YWwoKTtcblx0ICBcdGxldCBjdmNOdW0gPSAkKCcuY2FyZC1jdmMnKS52YWwoKTtcblx0ICBcdGxldCBleHBNb250aCA9ICQoJy5jYXJkLWV4cGlyeS1tb250aCcpLnZhbCgpO1xuXHQgIFx0bGV0IGV4cFllYXIgPSAkKCcuY2FyZC1leHBpcnkteWVhcicpLnZhbCgpO1xuXG5cdCAgXHRpZiAoIVN0cmlwZS5jYXJkLnZhbGlkYXRlQ2FyZE51bWJlcihjY051bSkpIHtcblx0ICBcdFx0ZXJyb3IgPSB0cnVlO1xuXHQgIFx0XHR0aGlzU3RyaXBlUGF5bWVudC5yZXBvcnRFcnJvcignVGhlIGNyZWRpdCBjYXJkIG51bWJlciBpcyBpbnZhbGlkJyk7XG5cdCAgXHR9XG5cblx0ICBcdGlmICghU3RyaXBlLmNhcmQudmFsaWRhdGVDVkMoY3ZjTnVtKSkge1xuXHQgIFx0XHRlcnJvciA9IHRydWU7XG5cdCAgXHRcdHRoaXNTdHJpcGVQYXltZW50LnJlcG9ydEVycm9yKCdUaGUgQ1ZDIG51bWJlciBpcyBpbnZhbGlkJyk7XG5cdCAgXHR9XG5cdCAgXHRpZiAoIVN0cmlwZS5jYXJkLnZhbGlkYXRlRXhwaXJ5KGV4cE1vbnRoLCBleHBZZWFyKSkge1xuXHQgIFx0XHRlcnJvciA9IHRydWU7XG5cdCAgXHRcdHRoaXNTdHJpcGVQYXltZW50LnJlcG9ydEVycm9yKCdUaGUgZXhwaXJhdGlvbiBkYXRlIGlzIGludmFsaWQnKTtcblx0ICBcdH1cblxuXHQgIFx0aWYgKCFlcnJvcikge1xuXHQgIFx0XHRsZXQgdG9rZW4gPSBTdHJpcGUuY2FyZC5jcmVhdGVUb2tlbih7XG5cdCAgXHRcdFx0bnVtYmVyOiBjY051bSxcblx0ICBcdFx0XHRjdmM6IGN2Y051bSxcblx0ICBcdFx0XHRleHBfbW9udGg6IGV4cE1vbnRoLFxuXHQgIFx0XHRcdGV4cF95ZWFyOiBleHBZZWFyXG5cdCAgXHRcdH0sIHRoaXMuc3RyaXBlUmVzcG9uc2VIYW5kbGVyKTtcblx0ICBcdFx0Y29uc29sZS5sb2codG9rZW4pO1xuXHQgIFx0XHR0aGlzU3RyaXBlUGF5bWVudC50b2tlbiA9IHRva2VuO1xuXHQgIFx0XHRjb25zb2xlLmxvZyh0aGlzU3RyaXBlUGF5bWVudC50b2tlbik7XG5cdCAgXHRcdGNvbnNvbGUubG9nKCd0b2tlbiBjcmVhdGVkJyk7XG5cdCAgXHR9XG5cblxuXHQgICAgLy8gUHJldmVudCB0aGUgZm9ybSBmcm9tIGJlaW5nIHN1Ym1pdHRlZDpcblx0ICAgIFxuXHQgICAgLy8gY29uc29sZS5sb2codG9rZW4pO1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH0pO1xuXG5cblxuXHQgIFxuXHR9XG5cblx0c3RyaXBlUmVzcG9uc2VIYW5kbGVyKHN0YXR1cywgcmVzcG9uc2UpIHtcblx0ICAvLyBHcmFiIHRoZSBmb3JtOlxuXHQgIHZhciAkZm9ybSA9ICQoJyNwYXltZW50LWZvcm0nKTtcblxuXHQgIGlmIChyZXNwb25zZS5lcnJvcikgeyAvLyBQcm9ibGVtIVxuXHQgIFx0dGhpcy5yZXBvcnRFcnJvcihyZXNwb25zZS5lcnJvci5tZXNzYWdlKTtcblx0ICAgIC8vIFNob3cgdGhlIGVycm9ycyBvbiB0aGUgZm9ybTpcblx0ICAgICRmb3JtLmZpbmQoJy5wYXltZW50LWVycm9ycycpLnRleHQocmVzcG9uc2UuZXJyb3IubWVzc2FnZSk7XG5cdCAgICAkZm9ybS5maW5kKCcuc3VibWl0JykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7IC8vIFJlLWVuYWJsZSBzdWJtaXNzaW9uXG5cblx0ICB9IGVsc2UgeyAvLyBUb2tlbiB3YXMgY3JlYXRlZCFcblxuXHQgICAgLy8gR2V0IHRoZSB0b2tlbiBJRDpcblx0ICAgIGNvbnNvbGUubG9nKCduZXcgdG9rZW4nKTtcblx0ICAgIGxldCB0b2tlbiA9IHJlc3BvbnNlLmlkO1xuXHQgICAgY29uc29sZS5sb2codGhpcy50b2tlbik7XG5cblx0ICAgIC8vIEluc2VydCB0aGUgdG9rZW4gSUQgaW50byB0aGUgZm9ybSBzbyBpdCBnZXRzIHN1Ym1pdHRlZCB0byB0aGUgc2VydmVyOlxuXHQgICAgJGZvcm0uYXBwZW5kKCQoJzxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cInN0cmlwZVRva2VuXCI+JykudmFsKHRva2VuKSk7XG5cdCAgICAkZm9ybS5hcHBlbmQoJCgnPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiY2hhcmdlQW1vdW50XCI+JykudmFsKCQoJy50b3RhbCcpLnZhbCgpKSlcblxuXHQgICAgLy8gU3VibWl0IHRoZSBmb3JtOlxuXHQgICAgJGZvcm0uZ2V0KDApLnN1Ym1pdCgpO1xuXG5cdCAgfVxuXG5cblx0fVxuXG5cdHJlcG9ydEVycm9yKG1zZykge1xuXHRcdCQoJy5wYXltZW50LWVycm9ycycpLnRleHQobXNnKS5hZGRDbGFzcygnZXJyb3InKTtcblx0XHQkKCcuc3VibWl0JykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXG5cblxuXG5cblxuXG5cblxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9TdHJpcGVQYXltZW50LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }

})